const axios = require("axios"); module.exports = { config: { name: "itachi", version: "1.0", author: "Arafat", countDown: 10, role: 0, shortDescription: "itachi Video", longDescription: "itachi Video", category: "Anime", guide: { en: "{pn} | {pn} <keyword>" } }, onStart: async function ({ api, event, args }) { const EMOJIS = ["ğŸ”¥","âš¡","ğŸ–¤","ğŸ‘‘","ğŸ’¥"]; const EMOJI = EMOJIS[Math.floor(Math.random() * EMOJIS.length)]; const TEXT = { title: `${EMOJI}Itachi ğ•ğ¢ğğğ¨`, notFound: "ğ¤ğ¨ğ§ğ¨ ğ¯ğ¢ğğğ¨ ğ©ğšğ°ğš ğ£ğšğ² ğ§ğšğ¢ âŒ", error: "ğ€ğ¢ ğ­ğš ğ¤ğ¢ ğ¤ğ¨ğ«ğ¥ğš ğŸ˜’", blocked: "âŒ ğ˜ğ¨ğ®ğ« ğ›ğ¨ğ­ ğ¢ğ¬ ğ­ğğ¦ğ©ğ¨ğ«ğšğ«ğ¢ğ¥ğ² ğ®ğ§ğ¬ğğ§ğ ğ›ğ¥ğ¨ğœğ¤" }; let keyword = "itachi"; if (args.length) keyword = `itachi ${args.join(" ")}`; try { const res = await axios.get( `https://short-video-api-by-arafat.vercel.app/arafat?keyword=${encodeURIComponent(keyword)}`, { timeout: 15000 } ); if (!Array.isArray(res.data) || res.data.length === 0) return api.sendMessage(TEXT.notFound, event.threadID, event.messageID); const d = res.data[Math.floor(Math.random() * res.data.length)]; if (!d.videoUrl) return api.sendMessage(TEXT.error, event.threadID, event.messageID); try { await api.sendMessage( { body: `${TEXT.title} â± ğƒğ®ğ«ğšğ­ğ¢ğ¨ğ§: ${d.duration || "?"}s`, attachment: await global.utils.getStreamFromURL(d.videoUrl) }, event.threadID, event.messageID ); } catch { api.sendMessage(TEXT.blocked, event.threadID, event.messageID); } } catch { api.sendMessage(TEXT.blocked, event.threadID, event.messageID); } } };
